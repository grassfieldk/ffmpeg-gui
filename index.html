<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FFmpeg GUI</title>
    <script type="module" src="/src/main.ts" defer></script>
  </head>
  <body>
    <main class="container">
      <section class="panel input-panel">
        <label id="drop-zone" class="drop-zone" for="file-input">
          ここに動画をドロップ（1件のみ）
        </label>
        <div class="file-row">
          <button id="file-select-button" type="button">ファイルを選択</button>
          <input id="file-input" type="file" accept="video/*" />
          <p id="file-name" class="file-path">未選択</p>
        </div>
      </section>

      <div class="panel-row">
        <section class="panel settings-panel">

          <div class="row row-full">
            <label for="preset">プリセット</label>
            <select id="preset">
              <option value="custom">カスタム</option>
              <option value="edit">編集用</option>
              <option value="sns">SNS投稿用</option>
            </select>
          </div>

          <div class="row group-row">
            <label for="resolution-template">解像度</label>
            <div class="group-controls two-cols">
              <select id="resolution-template">
                <option value="custom">カスタム</option>
                <option value="480-landscape">480p 横</option>
                <option value="480-portrait">480p 縦</option>
                <option value="720-landscape">720p 横</option>
                <option value="720-portrait">720p 縦</option>
                <option value="1080-landscape">1080p 横</option>
                <option value="1080-portrait">1080p 縦</option>
              </select>
              <div class="inline-input">
                <input id="width" type="number" min="1" aria-label="横" />
                <span>×</span>
                <input id="height" type="number" min="1" aria-label="縦" />
              </div>
            </div>
            <button class="reset icon-reset" data-key="resolution" title="リセット" aria-label="解像度をリセット">↺</button>
          </div>

          <div class="row group-row">
            <label for="framerate">フレームレート</label>
            <div class="group-controls two-cols">
              <div class="inline-input">
                <input id="framerate" type="number" min="1" step="0.01" />
                <span class="unit">fps</span>
              </div>
              <select id="fps-mode">
                <option value="fixed">固定</option>
                <option value="variable">可変</option>
              </select>
            </div>
            <button class="reset icon-reset" data-key="frame" title="リセット" aria-label="フレームレートをリセット">↺</button>
          </div>

          <div class="row group-row">
            <label for="video-bitrate">画質</label>
            <div class="group-controls two-cols">
              <div class="inline-input">
                <input id="video-bitrate" type="number" min="1" />
                <span class="unit">kbps</span>
              </div>
              <div class="inline-input">
                <span class="unit">CRF</span>
                <input id="crf" type="number" min="0" max="51" />
              </div>
            </div>
            <button class="reset icon-reset" data-key="quality" title="リセット" aria-label="画質をリセット">↺</button>
          </div>

          <div class="row group-row">
            <label for="audio-format">音声</label>
            <div class="group-controls two-cols">
              <select id="audio-format">
                <option value="aac">aac</option>
                <option value="mp3">mp3</option>
                <option value="opus">opus</option>
              </select>
              <div class="inline-input">
                <input id="audio-bitrate" type="number" min="1" />
                <span class="unit">kbps</span>
              </div>
            </div>
            <button class="reset icon-reset" data-key="audio" title="リセット" aria-label="音声をリセット">↺</button>
          </div>
        </section>

        <section class="panel output-panel">
          <div class="thumbnail-panel">
            <img id="thumbnail-image" alt="動画サムネイル" />
            <p id="thumbnail-empty">サムネイル未生成</p>
          </div>
          <div class="button-grid">
            <button id="action-button">変換を実行</button>
          </div>
          <div class="progress-row">
            <progress id="progress" max="100" value="0"></progress>
          </div>
        </section>
      </div>

      <section class="panel log-panel">
        <pre id="log"></pre>
      </section>
    </main>
  </body>
  </html>
